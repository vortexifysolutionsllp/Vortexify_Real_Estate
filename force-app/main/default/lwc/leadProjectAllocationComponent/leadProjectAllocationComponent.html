<template>
    <lightning-quick-action-panel header="Project Interest">

        <div class="bg">
            <div class="form-container">

                <div class="hero-title">
                    Letâ€™s get started with your property requirements
                </div>

                <!-- BASIC DETAILS -->

                <lightning-card title="Your Details">
                    <template if:true={isLoading}>
                        <lightning-spinner 
                            alternative-text="Saving..." 
                            size="medium">
                        </lightning-spinner>
                    </template>

                    <lightning-input label="First Name" value={leadRec.FirstName} onchange={handleChange}
                        data-field="FirstName" required>
                    </lightning-input>

                    <lightning-input label="Last Name" value={leadRec.LastName} onchange={handleChange}
                        data-field="LastName" required>
                    </lightning-input>

                    <lightning-input label="Phone" value={leadRec.Phone} onchange={handleChange} data-field="Phone"
                        required>
                    </lightning-input>

                    <lightning-combobox label="Location" value={location} options={locationOptions}
                        onchange={handleLocationChange} required>
                    </lightning-combobox>

                    <lightning-dual-listbox name="projects" label="Project" source-label="Available"
                        selected-label="Selected" field-level-help="Select your projects" options={projectOptions}
                        value={selectedProjects} onchange={handleProjectChange}>
                    </lightning-dual-listbox>

                    <div class="button-area slds-align_absolute-center slds-m-top_large">
                        <lightning-button label="Cancel" variant="neutral" onclick={handleCancel}
                            class="slds-m-right_small"  disabled={isLoading}>
                        </lightning-button>
                        <lightning-button label="Save" variant="brand" onclick={handleSave}  disabled={isLoading}>
                        </lightning-button>
                    </div>

                </lightning-card>


                <!-- PROJECT FIELDS -->
                <template if:true={showProjectFields}>
                    <lightning-card title="Tell Us What You're Looking For">

                        <lightning-input label="Fax" value={leadRec.Fax} onchange={handleChange} data-field="Fax">
                        </lightning-input>

                        <lightning-input label="Annual Revenue" value={leadRec.AnnualRevenue} type="number"
                            onchange={handleChange} data-field="AnnualRevenue">
                        </lightning-input>

                        <div class="slds-var-m-top_medium button-area">
                            <lightning-button label="Back" onclick={handleBack} class="slds-var-m-right_x-small">
                            </lightning-button>

                            <lightning-button label="Save" variant="brand" onclick={handleSave}>
                            </lightning-button>
                        </div>

                    </lightning-card>
                </template>

            </div>
        </div>

    </lightning-quick-action-panel>
</template>